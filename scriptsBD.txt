CREATE DATABASE nrp;

USE nrp;

CREATE TABLE usuario(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(150) NOT NULL,
cpf VARCHAR(50) NOT NULL UNIQUE,
email VARCHAR(150) NOT NULL UNIQUE,
senha VARCHAR(150) NOT NULL,
status_cliente VARCHAR(150),
grupo VARCHAR(150)
);

CREATE TABLE produto (
id_produto INT AUTO_INCREMENT PRIMARY KEY,
cod_produto VARCHAR(150) UNIQUE,
nome_disco VARCHAR(200),
estoque INT,
valor DECIMAL,
artista VARCHAR(150),
genero VARCHAR(150),
ano INT,
avaliacao DECIMAL,
status_produto VARCHAR(50),
descricao VARCHAR(150)
);

CREATE TABLE imagem (
id_imagem INT AUTO_INCREMENT PRIMARY KEY,
cod_produto VARCHAR(150),
imagem varchar(255),
FOREIGN KEY (cod_produto) REFERENCES produto(cod_produto)
);


 CREATE TABLE cliente (
    id_cliente INT AUTO_INCREMENT PRIMARY KEY,
    cpf VARCHAR(100) UNIQUE NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    nome_completo VARCHAR(255) NOT NULL,
    data_nascimento DATE NOT NULL,
    genero ENUM('M', 'F', 'Outro') NOT NULL,
	endereco_faturamento_cep VARCHAR(255) NOT NULL,
    endereco_faturamento_numero varchar(255) NOT NULL,
    endereco_faturamento_complemento varchar(255),
    senha varchar(255) NOT NULL,
);

CREATE TABLE endereco_entrega(
	id_endereco INT AUTO_INCREMENT PRIMARY KEY,
    cpf VARCHAR(100),
    endereco_completo VARCHAR(255) NOT NULL,
    FOREIGN KEY (cpf) REFERENCES cliente(cpf)
);    

ALTER TABLE produto AUTO_INCREMENT = 0;

 // Cadastro padrões

INSERT INTO usuario(nome, cpf, email, senha, status_cliente, grupo)
values ("Estoquista", "00334833027", "estoquista@gmail.com", "$10$/R.I1IiUAIEGAsiJ9jI5NOYh4VH19yi0xBR0IAb2DXW4HoWqbq4I2", "Ativo", "Estoquista");
INSERT INTO usuario(nome, cpf, email, senha, status_cliente, grupo)
values ("Admin", "44714869000", "admin@gmail.com", "$10$/R.I1IiUAIEGAsiJ9jI5NOYh4VH19yi0xBR0IAb2DXW4HoWqbq4I2", "Ativo", "Admin");


INSERT INTO cliente (cpf, email, nome_completo, data_nascimento, genero, endereco_faturamento_cep, endereco_faturamento_numero, endereco_faturamento_complemento)
values ("12345678910", "lorena", "Lorena Mafra", "1999-04-05", "F","03477000", "191", "A");

INSERT INTO endereco_entrega (cpf, cep, numero, complemento) 
values ("12345678910","03254000", "191", "A");

INSERT INTO produto (cod_produto, nome_disco, estoque, valor, artista, genero, ano, avaliacao, status_produto, descricao) values 
('AMFavouriteWorstNightmare2007','Favourite Worst Nightmare', 15, 80.00, 'Arctic Monkeys', 'Rock', 2007, 4, "Ativo", 'Segundo álbum da banda');
INSERT INTO imagem (cod_produto, imagem)	
values ("AMFavouriteWorstNightmare2007", "AMFavouriteWorstNightmare20070.png");
INSERT INTO imagem (cod_produto, imagem)
values ("AMFavouriteWorstNightmare2007", "AMFavouriteWorstNightmare20071.png");
