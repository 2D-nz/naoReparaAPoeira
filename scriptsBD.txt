CREATE DATABASE nrp;

USE nrp;

CREATE TABLE usuario(
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(150) NOT NULL,
cpf VARCHAR(50) NOT NULL UNIQUE,
email VARCHAR(150) NOT NULL UNIQUE,
senha VARCHAR(150) NOT NULL,
status_cliente VARCHAR(150),
grupo VARCHAR(150)
);

CREATE TABLE produto (
id_produto INT AUTO_INCREMENT PRIMARY KEY,
cod_produto VARCHAR(150) UNIQUE,
nome_disco VARCHAR(200),
estoque INT,
valor DECIMAL,
artista VARCHAR(150),
genero VARCHAR(150),
ano INT,
avaliacao DECIMAL,
status_produto VARCHAR(50),
descricao VARCHAR(150)
);

CREATE TABLE imagem (
id_imagem INT AUTO_INCREMENT PRIMARY KEY,
cod_produto VARCHAR(150),
imagem varchar(255),
FOREIGN KEY (cod_produto) REFERENCES produto(cod_produto)
);

CREATE TABLE cliente (
    id_cliente INT AUTO_INCREMENT PRIMARY KEY,
    cpf VARCHAR(100) UNIQUE NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    nome_completo VARCHAR(255) NOT NULL,
    data_nascimento DATE NOT NULL,
    genero ENUM('M', 'F', 'Outro') NOT NULL,
	endereco_faturamento VARCHAR(255) NOT NULL
    );

CREATE TABLE endereco_entrega(
	id_endereco INT AUTO_INCREMENT PRIMARY KEY,
    cpf VARCHAR(100),
    endereco_completo VARCHAR(255) NOT NULL,
    FOREIGN KEY (cpf) REFERENCES cliente(cpf)
);    

ALTER TABLE produto AUTO_INCREMENT = 0;
drop table imagem;
INSERT INTO produto (cod_produto, nome_disco, estoque, valor, artista, genero, ano, avaliacao, status_produto, descricao, imagem_principal, imagem_secundaria) values 
('KWMyBeautifulDarkTwistedFantasy2010','My Beautiful Dark Twisted Fantasy', 10, 250.00, 'Kanye West', 'Rap', 2010, 5, "Ativo", 'MBDTF', "KWMyBeautifulDarkTwistedFantasy20100.jpg", "KWMyBeautifulDarkTwistedFantasy20101.jpeg")
INSERT INTO produto (cod_produto, nome_disco, estoque, valor, artista, genero, ano, avaliacao, status_produto, descricao, imagem_principal, imagem_secundaria) values 
('AmFavouriteWorstNightmare2007','Favourite Worst Nightmare', 15, 80.00, 'Arctic Monkeys', 'Rock', 2007, 4, "Ativo", 'Segundo álbum da banda', "AMFavouriteWorstNightmare20070.jpg", "AMFavouriteWorstNightmare20071.jpg");
INSERT INTO produto (cod_produto, nome_disco, estoque, valor, artista, genero, ano, avaliacao, status_produto, descricao, imagem_principal, imagem_secundaria) values ('KWGraduation20070','Graduation', 10, 250.00, 'Kanye West', 'Rap', 2007, 5, "Ativo", 'Ultimo álbum da trilogia sobre faculdades', "KWGraduation20070.jpg", "KWGraduation20071.jpg")

